# パスワード・認証
## 概要（当初版）
情報セキュリティで確保すべき機密性の根拠は認証である。認証の種類と特徴について、主にパスワードを例として述べる。また、シングル・サインオン（SSO）についても述べる。

## キーワード（当初版）
認証、パスワード

## 概要（学習のポイント）＜改訂版＞

## キーワード＜改訂版＞


# 認証とは
インターネットを介してサービスを享受することが当たり前になった現代では、遠隔にあるサービス事業者に対して自分が何者であるかを主張しサービス事業者に本人性を確認してもらう __認証（Authentication）__ が重要な位置を占めている。

本人性確認の必要性は古来から存在していたが、情報通信が盛んになった時代において遠隔から通信路を通じて接続することが多くなってきたため、
認証の重要性が非常に高くなってきた。
認証の技術はパスワードによる認証を中心にさまざまな技術が利用され、多岐にわたる認証技術が我々の生活において利用可能となっている。

ここでは現在情報技術と共に利用される認証技術について解説をする。

# 認証の種類と特徴

## 認証の要素
多岐にわたる認証技術は、認証に用いられる要素により3つに分類することができる。

1. Something you know（対象とする人が知っている何か、記憶による認証）
1. Something you have（対象とする人が持っているか何か、所持による認証）
1. Something you are（対象とする人が何か、本人の特徴による認証）

"Something you know"は認証される個人が持つ記憶により認証する技術であり、パスワードやPIN（Personal Identification Number）などがそれにあたる。
"Something you have"は認証される個人が所持するなんらかの物理的な物を用いた認証であり、ICカードや運転免許証などがそれにあたる。
"Something you are"は本人の特徴による認証であり、指紋認証や顔認証などがそれにあたる。
認証手段はこれらの3つの要素のうち1つ以上を持ち実現される。

## 多岐にわたる認証の種類
記憶による認証では、対象となる人が記憶している文字列を利用し認証を行うパスワード認証が代表的な手法である。文字や記号も利用できるパスワードに対し、数字だけで構成されるPINもPCやデバイスへのログイン等に用いられることが多い。

所持による認証では、ICカードやトークンなど個人に配付されたデバイスを用いて認証を行う手法が代表的である。

本人の特徴による認証としては、指紋認証や顔認証など本人の生体情報を用いた認証や、行動特性を利用した認証方法などがある。
生体情報を読み取るデバイスが安価かつ小型化されたこともありスマートフォンやラップトップPCなど利用が広まっている。


## リモート認証とローカル認証
認証方法は認証される本人と認証をするシステムの位置関係により分類することもできる。
通信路を隔てて遠隔先のサーバ等にアクセスするための認証をリモート認証と呼び、
PCのログインやスマートフォン端末のロック解除のための認証をローカル認証と呼ぶ。

リモート認証とローカル認証ではその特性の違いからリスクも異なるため、リスクに応じた認証方法が選択される。
リモート認証では認証のための情報が遠隔のサーバ上に置かれるが、ローカル認証ではPCやスマートフォン自体に認証のための情報が置かれる。
リモート認証の場合は認証のための情報が遠隔へと送信されサーバ上で本人性の確認作業が行われるため、その途中経路において第3者に覗き見されるなどの漏洩が避けられなければならない。通信路の暗号化や、ハッシュ値などを利用した対策が行われる。
一方、ローカル認証の場合は認証のための情報は端末内部だけで処理されるため、第3者による覗き見のリスクはリモート認証に比べて低くなる。

認証のための情報の管理も違いがある。
リモート認証の情報はサーバ側に置かれるため、サーバ側で起こるアクシデント等で漏洩することがあるなどのリスクがある。
サーバ側に置かれる情報は暗号化やハッシュ化など認証情報がそのままで置かれることの内容に処理がされて管理される。
生体認証では認証の方法と用いられる生体情報によっては登録した情報を変更することが不可能であるため、サーバ側で漏洩してしまうと重大なリスクとなる場合がある。ローカル認証として生体認証がされるほうがリスクを抑えた利用方法であると言えよう。


## 多要素認証
銀行口座の振込がオンラインで可能なサービスと、ゲームのように匿名のユーザ名で利用可能なサービスでは、本人性に起因したリスクが異なるために認証に求められる本人性確認の厳格さが異なってくる。
本人性確認の厳格さ向上のために高度な認証技術を利用するという手段もあるが、その他に複数の認証要素を用いてより本人確認を確実にする手段もある。

複数の認証要素を用いて本人確認する方法を多要素認証（Multi Factor Authrntication）と呼ぶ。
2つの要素を用いることが多いため、2要素認証と呼ばれることもある。
たとえば、銀行ATM利用におけるキャッシュカードと暗証番号はキャッシュカードの所持という要素と暗証番号という記憶という要素の2要素を用いた認証になっている。リモート認証の場合であれば、暗号鍵を格納したデバイスに対してパスワードあるいは指紋認証等の生態認証により暗号鍵利用のアクティベートし、暗号鍵を利用して遠隔のサーバと認証作業を行う手法などがある。

# パスワード
記憶による認証の代表的な手法であるパスワードは、情報通信が盛んになる前から広く利用されてきた。
情報通信が発達しインターネットが一般的になると、特殊なシステムを要しないことなどから認証方式としてさらに採用が進んだ。現在でも広く用いられている。

ユーザに文字列を記憶される方式としてはその他に、一般的に数字列だけを用いて認証するPIN方式や、複数のキーワードを組み合わせるパスフレーズなども存在するが、ここではそれらはパスワードとしてまとめた扱うこととする。

## パスワードによる認証の流れ
パスワードを用いた認証の流れを図1に示す。

![Figure1](figure01.png)



パスワードっていろいろあるよ。
人間なので偏るよ。
強化する方策がいろいろあるよ。構成のルールを指定する構成ポリシ。入力されたパスワードの強度や不足点などをフィードバックするもの。
これまでの研究で、構成ポリシは複雑なポリシにするよりも単純に最小文字数を長くするほうが強力なパスワードが構成されることがわかっている。

定期変更ってあったけど、これは強制してもあまり意味がないことが示され、NIST 800-63-3では非推奨になり、総務省やNISCのガイドライン（用語正確に）でも非推奨となったよ。

秘密の情報なんかはよく使われるけど、これはあまり意味ないよ。たとえば生年月日とか家族の情報なんかは、SNSで意図せずに発信していたりSNSにおける友人関係から類推可能だったりするし、わかりやすい情報を居れたりと、強度が低いことが指摘されていますよ（参考文献あるかな）



# 認証と認可、識別
日本語に一般的に利用される認証という言葉は様々な意味を持ちうる。
アクセスしてきている相手が誰かを判断することも認証と呼んだり、確認された相手に対して通行を許可することも認証の意味に含んだりする。
時には、なにかの確認をしたことさえ「認証した」ということもある。

情報技術においてはこれらは認証とは別の言葉として明確に定義がされている。
ここではIPA
情報セキュリティの文脈における認証という言葉の意味は明確に定義がされており、時に認証として同一視されてしまうものに認可や識別がある。
（うーん。だめだ）


認証（Authentication）と認可（Authorize）は違う。
一口に認証といっても日本語における認証は様々な意味を持ちうるがここでは明確に分けて考える。認証はAuthentication。つまり「「認証」は真正性の確認（Authentication）」であり（同報告書3頁）、「認証とは何らかのサービスを提供する側が相手の真正性を確認する行為である」from IPA報告書（https://www.ipa.go.jp/security/fy14/reports/authentication/index.html）

近い概念でよく認証と誤認されるものに識別（Identification）がある。
たとえば「個人識別」の場合、それは対象とする人を特定の個人と判別する行為を指し、識別対象となる個人の意思は問題とされず、識別される側は主体ではなく客体として登場する。（この文章はコピペなので変えましょう）（あとNIST SP 800-63-3とその訳文についても調べて整理しましょう。参考文献にも入れよう。https://pages.nist.gov/800-63-3/
https://openid-foundation-japan.github.io/800-63-3-final/sp800-63-3.ja.html






# 認証と認可
認証と認可は違うよ。
5章のゼロトラストネットワーク、システムのセキュリティの部分とも絡んでくるよ。

ある条件に対して、リソースへのアクセスの許可を与えることを認可という。
認証と認可は密接な関係にあるが、別のものとして認識することが重要です。
ただ、認証せずに認可するということもあります。
アクセスした時間がある一定の時間帯であればだれでもアクセスできる、というようなサービスの場合は、それは認証は行っていないが認可は行っています。



# シングルサインオン
この認可を利用して、1度認証を受ければ複数の別々のサービスのリソースが利用可能にすることができる。
たとえば1度認証を受けた後、認証されたことを示すIDトークンを発行してもらい、そのトークンをそれぞれのサービスに提示することでそれぞれのサービスでは認証をせずともリソース利用の認可を得られるような仕組みがある。OpenID Connectとか。OAuthなんかはそれよ。

こういった仕組みを総称してシングルサインオンと呼ぶことがある。

IDの連携。
連携しておけが1度の認証でさまざまなサービスを受けられる。GoogleのアカウントやFacebookのアカウント、Twitterのアカウントを使って様々なサービスに登録と利用が可能であることが代表例。
この場合、GoogleやFacebook、TwitterといったIDを提供する事業者をIdP（Identity Provider）と呼ぶよ（ここまで言わなくていいのかな）
