# 情報セキュリティの基盤技術「暗号」
## 概要（当初版）
暗号と認証の基本的な考え方および両者の関係，古典暗号と現代暗号の違い，現代暗号の標準化プロセス，暗号の危殆化，代表的現代暗号について述べる。TLS（https）、PKI｡　Web証明書、ソフトウェア署名。

## キーワード（当初版）
暗号、電子署名

## 概要（学習のポイント）＜改訂版＞

## キーワード＜改訂版＞

# 暗号とは
CryptographyとEncryptionは異なる。
Cryptographyは暗号学とも訳される。Encryptionはデータの機密性を守るための暗号化であり、平文Plaintextを鍵を用いて暗号文Cipher Textに変換する作業のことを言う。
Encryption以外にも、Signatureとかさ、Key Agreementとか、Message Digestとか。そういった複数の暗号技術がCryptographyには含まれる。
機密性を守るだけでなく、完全性（Integrity）を実現するための手法もCryptographyに含まれる。
また、暗号の解読なんかもCryptographyに含まれる。

ここではCryptographyの話をするよ。

# 暗号と認証
暗号と認証は、関係性があるよ。
認証方式の実現において、暗号技術が使われるときがあるよ。

たとえばパスワード認証だと、ハッシュ関数が使われるよね。


チャレンジアンドレスポンスとか。

# 古典暗号と現代暗号の違い
## 古典暗号
換字式暗号の話。
シーザー暗号から、ちょっと複雑なところまで。

## 現代暗号
（これ用語が微妙だけど定義して挙げたほうが良いね。たつあきさんの本から持って来よう。
おもにブロック暗号と公開鍵暗号誕生以降としちゃおうかね。ここでは。）

### 共通鍵暗号
ブロック暗号とストリーム暗号
暗号利用モード

### 公開鍵暗号
Diffie-Hellman鍵交換とRSA暗号、DSA。
ECDHとECDSAも軽く。

公開鍵暗号の用途は、暗号化（Encryption）と鍵交換、認証、電子署名と多岐にわたる。


# 現代暗号の標準化プロセス
ISO、IETFみたいな国際的な標準化団体による標準化。

NISTやCRYPTRECのような国ごとにおける標準化。

NISTの標準化はFIPSとSP。FIPSが標準仕様でSPは勧告的（ここも用語を正確に）。
米国の政府調達に使われるような標準なんだけど、一方で米国標準が事実上の標準になることや、米国標準に沿って同様に国際標準が定められるなど影響は強いよね。

DESって標準は、ブロック暗号の標準。FIPS 46で定められた。世界的に広く使われた。
で、これが攻撃手法が提案され、さらに高度化やハードウェア技術向上によって強度が低くなってきた。
そこでNISTは公募による新ブロック暗号標準を制定。AES。

AES公募のタイムスケジュールを載せる。
最終候補に残ったのは、米国外から提案された技術も含まれていることに振れる。

公開鍵暗号においても、NISTが耐量子計算機暗号（Post-Quantum Cryptography）として量子計算機への耐性がある公開鍵暗号方式を公募しており、現在選定が進んでいる。


# 暗号を利用したセキュリティ技術
## PKI
公開鍵暗号では公開鍵を広く第三者が利用可能なようにするが、その際に「この公開鍵は、本当にその持ち主を主張するユーザの公開鍵なのか」を検証することが重要になる。
あるユーザの公開鍵をそのユーザから直接受け取ることが可能であればその検証は可能であるが、そうで無いケースではなんらかの手法で公開鍵の検証を行う必要がある。

PGPでは信頼の和（これは正しい表現かな）により信頼を得る。
それと比して、信頼における機関を立て、その機関によりその公開鍵の所有者が証明される仕組みを設けて公開鍵を検証できる基盤を提供することが確立された（文章がおかしい）。これがPublic Key Infrastructure（PKI）である。
信頼のおける機関は証明のために公開鍵の証明書を発行する。このとき信頼のおける機関は認証局（Certificate Authority、CA）と呼ばれ、公開鍵証明書には認証局の鍵により電子署名が付与される。
公開鍵証明書を受け取ったユーザは、信頼できる認証局の公開鍵を用いることでその公開鍵証明書を検証でき、その公開鍵が記載されてる（主張されている）ユーザのものであることが確認できる。

パス検証、証明書検証の話。トラストリストの話。OSやブラウザにはインストールされたときにあらかじめ信頼できる認証局

## TLS
もっとも利用されている暗号利用サービスと言って良い。
暗号化だけではなく認証、メッセージ認証などセキュリティの機能を提供する機構である。特定の通信プロトコルに依存せず、組み合わせて利用する。たとえばWebではHTTPとTLSを合わせて利用することが一般的である。
WebでのTLS利用はブラウザベンダの推進もあり広範にわたっており、ブラウザによってはTLS利用をしていない通信に関しては警告を出すようにするように向かっているものもある（本当か確認）。

TLSはHTTPと合わせたWebでの利用が一般的ではあるが、電子メールの送受信プロトコルであるSMTPやPOP、IMAPでの利用も広まっている。


## コード署名
電子署名は現在コード署名として広く使われている。これはクライアント側の端末にソフトウェアをインストールする際に、インストールするソフトウェアがOSベンダ等により正しい配付元から配付されているかどうかを検証するために用いられる。
WindowsやMac OS、Android OSやiOSなど、代表的なOSではインストールするアプリケーションに適切なコード署名がされていることが求められている。


## エンドツーエンド（E2E）暗号化
これまで通信の暗号化やそこで送受信されるメッセージの暗号化はクライアントとサーバ間でされることが主であり、サーバ側はその場合、ユーザ間で送受信されるメッセージをサーバは閲覧することが可能であった。
2010年代半ばより、暗号化と復号をユーザ間で直接行う方式が多くなってきた（多くなってきた、って表現がいいのかどうか）。サーバは暗号化にかかわらずエンドユーザ間が暗号化と復号を行うこの方式はエンドツーエンド（E2E）暗号化と呼ばれ、日本で代表的なメッセージングツールであるLINEでも採用されている。




